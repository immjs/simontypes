:root {
  --length: 4;
  --btns-width: min(100vmin, 1000px + 20px * var(--length));
  --width: min(150px, calc(var(--btns-width) / var(--length)));
}

body {
  margin: 0;
  padding: 0;
  display: flex;
  width: 100vw;
  height: 100vh;
  align-items: center;
  background-color: #151515;
  color: #ffffff;
  font-family: monospace;
  text-align: center;
  overflow: hidden;
  touch-action: manipulation;
  -webkit-user-select: none; /* Safari */        
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE10+/Edge */
  user-select: none; /* Standard */
}

#container {
  flex: 1;
  display: flex;
  align-items: center;
  width: 100vw;
  flex-direction: column;
}

#buttons {
  /* display: flex;
  justify-content: center;
  align-items: center; 
  flex-direction: column; */
  width: max-content;
}

#buttons .button {
  width: calc(var(--width) - 20px);
  height: calc(6 * var(--width) / 5 - 20px);
  display: inline-block;
  outline: 0;
  padding: 0;
}

.keycap {
  display: inline-block;
  background-color: #ccc;
  border-radius: calc(100% / 5);
  box-shadow: inset 0 0 0 3px #aaa;
  color: #888;
  width: max-content;
  vertical-align: middle;
  font-size: 0.75em;
  padding: 0.25em 0.5em 0.25em 0.5em;
  margin-left: 2px;
  margin-right: 2px;
  position: relative;
  top: 0;
  left: 0;
}

.game {
  width: calc(var(--width) - 20px);
  height: calc(var(--width) - 20px);
  box-shadow: inset 0 0 0 calc(var(--width) / 13) #aaa;
  font-size: 4em;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0px;
  margin: 0;
}

/* .keyborder {
  width: calc(var(--width) - 20px);
  height: calc(var(--width) - 20px);
  position: relative;
  top: 0;
  left: 0;
  z-index: 3;
} */

.keycap::after {
  content: '';
  display: block;
  width: 100%;
  height: 100%;
  margin-top: calc(100% / 6);
  background-color: #aaaaaa;
  border-radius: calc(100% / 5);
  position: absolute;
  top: 0;
  left: 0;
  z-index: -10;
  transform: translateZ(-1px);
}

.add-height, .keycap:active {
  margin-top: calc(100% / 6);
  background-color: #bbb;
  color: #999;
}

.game:active, .game.add-height {
  background-color: var(--bg);
  box-shadow: inset 0 0 0 calc(var(--width) / 13) var(--bc),
    0 0 calc(var(--width) / 10) 0 var(--bc);
}

.keycap:active::after, .add-height::after {
  margin-top: 0;
}

.button + .button {
  margin-left: 10px;
}

#buttons.disabled .button {
  filter: invert(1);
}

#progressflex {
  width: 100%;
  height: calc(var(--width) / 7);
  display: flex;
  margin-bottom: 20px;
}

#progress {
  flex: 1;
  height: 100%;
  /* border: 5px solid #aaa; */
  border-radius: calc(var(--width) / 10);
  display: flex;
  justify-content: center;
  align-items: center;
}

#progress * {
  flex: 1;
  height: 100%;
  background-color: #aaa;
}

#progress div:first-child {
  border-radius: calc(var(--width) / 14) 0 0 calc(var(--width) / 14);
}
#progress div:last-child {
  border-radius: 0 calc(var(--width) / 14) calc(var(--width) / 14) 0;
}

#progress div + div {
  margin-left: 4px;
}

#progress div:first-child:last-child {
  border-radius: calc(var(--width) / 10);
}

#progress .played {
  background-color: #fd3;
  /* box-shadow: 0 0 5px 0 #ff0; */
}

#progress .valid {
  background-color: #8e5;
}
#progress .failed {
  background-color: #e68;
}
.row + .row {
  margin-top: -35px;
}
.row {
  display: flex;
  justify-content: center;
  gap: 10px;
}

h1 {
  font-family: 32%;
}
